<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What Starlink Kit Is Right For Me?</title>
    <style>
        body { font-family: Arial, sans-serif; background: white; color: #333; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: auto; }
        .header { text-align: center; margin-bottom: 20px; }
        .step { display: none; }
        .active { display: block; }
        .button { background: #007bff; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px; }
        .button:hover { background: #0056b3; }
        .card { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; position: relative; }
        .tooltip { position: absolute; top: 0; right: 0; background: #007bff; color: white; padding: 5px; border-radius: 50%; cursor: help; }
        .tooltip-text { display: none; position: absolute; background: #fff; border: 1px solid #ddd; padding: 10px; width: 200px; z-index: 1; }
        .tooltip:hover .tooltip-text { display: block; }
        .sidebar { position: fixed; left: 20px; top: 100px; width: 150px; }
        .progress { list-style: none; padding: 0; }
        .progress li { margin: 10px 0; cursor: pointer; }
        .progress li.active { font-weight: bold; }
        .rocket { font-size: 24px; transition: transform 0.5s; } /* Fun animation */
        input, label { display: block; margin: 10px 0; }
        svg { max-width: 100%; height: auto; } /* For schematics */
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>What Starlink Kit Is Right For Me?</h1>
            <p>Discover the best Starlink setup for your needs. We'll guide you step by step!</p>
            <!-- Bullet points from flowchart -->
            <ul>
                <li>A single residence</li>
                <li>One person or a whole family</li>
                <li>Gaming, streaming, and surfing</li>
                <li>Roaming and mobile internet</li>
                <li>Portable and light</li>
                <li>Travel across & out of the country</li>
            </ul>
        </div>

        <!-- Steps -->
        <div id="step-intro" class="step active">
            <p>Starlink uses satellites in space to deliver high-speed internet anywhereâ€”no cables or phone lines needed. Latency is low (20-50ms), speeds 50-220Mbps, and it's resilient to weather with built-in heaters.</p>
            <svg width="400" height="200" viewBox="0 0 400 200"> <!-- Placeholder schematic -->
                <rect x="150" y="10" width="100" height="50" fill="#ccc" /> <!-- Dish -->
                <text x="200" y="35" text-anchor="middle">Dish on Roof</text>
                <line x1="200" y1="60" x2="200" y2="100" stroke="black" /> <!-- Cable -->
                <rect x="175" y="100" width="50" height="30" fill="#007bff" /> <!-- Router -->
                <text x="200" y="120" text-anchor="middle">Router</text>
                <circle cx="200" cy="150" r="40" fill="none" stroke="#007bff" /> <!-- Wi-Fi -->
                <text x="200" y="155" text-anchor="middle">Wi-Fi</text>
            </svg>
            <button class="button" onclick="nextStep('intro', 'location')">Start Quiz</button>
        </div>

        <div id="step-location" class="step">
            <h2>Step 1: Your Location</h2>
            <p>Enter your address or ZIP to check availability and pricing (varies by area due to network capacity).</p>
            <div class="card">
                <span class="tooltip">i<span class="tooltip-text">Why? Plans and promotions depend on your locationâ€”e.g., low-demand areas may have specials.</span></span>
                <label>Address or ZIP:</label>
                <input type="text" id="address" placeholder="e.g., 90210 or 123 Main St, Anytown">
            </div>
            <button class="button" onclick="checkLocation()">Next</button>
            <div id="location-result"></div>
        </div>

        <div id="step-use-case" class="step">
            <h2>Step 2: Your Main Use</h2>
            <p>Select what best fits:</p>
            <label><input type="radio" name="useCase" value="residential"> Stationary Residential (home/fixed location)</label>
            <div class="card" style="display:none;" id="residential-card">
                <span class="tooltip">i<span class="tooltip-text">Unlimited data for stable home useâ€”great for families.</span></span>
                <!-- Placeholder image: Use URL or base64 in production -->
                <img src="https://via.placeholder.com/150?text=Standard+Dish" alt="Standard Dish">
            </div>
            <label><input type="radio" name="useCase" value="roam"> On The Go (travel/RV/mobile)</label>
            <div class="card" style="display:none;" id="roam-card">
                <span class="tooltip">i<span class="tooltip-text">Portable access in 150+ countries; in-motion OK on Unlimited.</span></span>
                <img src="https://via.placeholder.com/150?text=Mini+Dish" alt="Mini Dish">
            </div>
            <button class="button" onclick="nextStep('use-case', 'usage')">Next</button>
        </div>

        <div id="step-usage" class="step">
            <h2>Step 3: Your Usage</h2>
            <p>Select all that apply:</p>
            <div class="card">
                <span class="tooltip">i<span class="tooltip-text">Helps match bandwidthâ€”e.g., gaming needs low latency.</span></span>
                <label>How many people/devices? <select id="users"><option>1-2</option><option>3-5</option><option>6+</option></select></label>
                <label><input type="checkbox" name="usage" value="work"> Work/school from home</label>
                <label><input type="checkbox" name="usage" value="vpn"> Use VPN</label>
                <label><input type="checkbox" name="usage" value="gaming"> Gaming (Note: Playable on Roam but may have spikes in-motion)</label>
                <label><input type="checkbox" name="usage" value="streaming"> Streaming</label>
                <label><input type="checkbox" name="usage" value="calls"> Video calls</label>
            </div>
            <button class="button" onclick="nextStep('usage', 'equipment')">Next</button>
        </div>

        <div id="step-equipment" class="step">
            <h2>Step 4: Recommended Equipment</h2>
            <div id="equipment-cards"></div>
            <button class="button" onclick="nextStep('equipment', 'installation')">Next</button>
        </div>

        <div id="step-installation" class="step">
            <h2>Step 5: Installation Explained</h2>
            <p>Starlink is easy to set upâ€”90% of users self-install in 5-10 minutes. No tools needed!</p>
            <svg width="400" height="200" viewBox="0 0 400 200"> <!-- Detailed schematic -->
                <rect x="150" y="10" width="100" height="50" fill="#ccc" /> <!-- Dish -->
                <text x="200" y="35" text-anchor="middle">Dish (Clear Sky View)</text>
                <line x1="200" y1="60" x2="200" y2="100" stroke="black" /> <!-- Cable -->
                <text x="210" y="80">50ft Cable into Home</text>
                <rect x="175" y="100" width="50" height="30" fill="#007bff" /> <!-- Router -->
                <text x="200" y="120" text-anchor="middle">Router (Plug to Power)</text>
                <circle cx="200" cy="150" r="40" fill="none" stroke="#007bff" /> <!-- Wi-Fi -->
                <text x="200" y="155" text-anchor="middle">Wi-Fi Broadcast</text>
            </svg>
            <div class="card">
                <span class="tooltip">i<span class="tooltip-text">App guides pointing dish; resilient to rain/snow. Pro install $199+ if needed (select areas).</span></span>
                <ol>
                    <li>Download Starlink app.</li>
                    <li>Find clear sky spot (no trees/buildings blocking).</li>
                    <li>Point dish north, plug cable to router.</li>
                    <li>Connect router to powerâ€”Wi-Fi starts!</li>
                </ol>
                <p>Worried? 30-day trial includes full hardware refund. Support via app if stuck.</p>
            </div>
            <button class="button" onclick="nextStep('installation', 'plan')">Next</button>
        </div>

        <div id="step-plan" class="step">
            <h2>Step 6: Service Plan</h2>
            <div id="plan-cards"></div>
            <button class="button" onclick="nextStep('plan', 'summary')">Next</button>
        </div>

        <div id="step-summary" class="step">
            <h2>Summary & Order</h2>
            <div id="summary-content"></div>
            <button class="button" onclick="placeOrder()">Place Order Now</button>
            <p>After ordering, explore accessories like mounts or mesh to customize: <a href="#" onclick="alert('Link to shop.starlink.com/collections/accessories in production')">View Accessories</a></p>
        </div>
    </div>

    <!-- Sidebar Progress -->
    <div class="sidebar">
        <ul class="progress">
            <li onclick="goToStep('intro')">Intro <span class="rocket">ðŸš€</span></li>
            <li onclick="goToStep('location')">Location</li>
            <li onclick="goToStep('use-case')">Use Case</li>
            <li onclick="goToStep('usage')">Usage</li>
            <li onclick="goToStep('equipment')">Equipment</li>
            <li onclick="goToStep('installation')">Installation</li>
            <li onclick="goToStep('plan')">Plan</li>
            <li onclick="goToStep('summary')">Summary</li>
        </ul>
    </div>

    <script>
        const steps = ['intro', 'location', 'use-case', 'usage', 'equipment', 'installation', 'plan', 'summary'];
        let currentStep = 0;
        let userData = { address: '', useCase: '', usage: [], users: '', kit: '', plan: '', promo: '', fee: '' };

        function nextStep(current, next) {
            document.getElementById(`step-${current}`).classList.remove('active');
            document.getElementById(`step-${next}`).classList.add('active');
            currentStep = steps.indexOf(next);
            updateProgress();
            saveData(); // Persist
            console.log(`Step completed: ${next}`); // Metric tracking demo
        }

        function goToStep(step) {
            steps.forEach(s => document.getElementById(`step-${s}`).classList.remove('active'));
            document.getElementById(`step-${step}`).classList.add('active');
            currentStep = steps.indexOf(step);
            updateProgress();
        }

        function updateProgress() {
            document.querySelectorAll('.progress li').forEach((li, i) => {
                li.classList.toggle('active', i <= currentStep);
                if (i === currentStep) li.querySelector('.rocket').style.transform = 'rotate(45deg)'; // Fun animation
            });
        }

        function saveData() {
            localStorage.setItem('starlinkData', JSON.stringify(userData));
        }

        function loadData() {
            const saved = localStorage.getItem('starlinkData');
            if (saved) userData = JSON.parse(saved);
        }

        function checkLocation() {
            userData.address = document.getElementById('address').value;
            let result = '';
            // Placeholder simulation
            const zip = userData.address.match(/\d{5}/)?.[0] || '';
            if (zip.startsWith('9')) { // Simulate high-demand
                userData.promo = 'No promo';
                userData.fee = '$100 Congestion Fee (one-time, for high-demand areaâ€”helps manage network)';
                result = 'High-demand area: Service available with fee. Plans from $80/month.';
            } else { // Low-demand
                userData.promo = '$0 Kit Rental (pay only shipping $20 + service)';
                userData.fee = 'No fee';
                result = 'Low-demand area: Service available with promo! Plans from $50/month.';
            }
            document.getElementById('location-result').innerHTML = `<p>${result}</p>`;
            nextStep('location', 'use-case');
        }

        // Event listeners for radios (show cards)
        document.querySelectorAll('input[name="useCase"]').forEach(input => {
            input.addEventListener('change', (e) => {
                userData.useCase = e.target.value;
                document.getElementById('residential-card').style.display = e.target.value === 'residential' ? 'block' : 'none';
                document.getElementById('roam-card').style.display = e.target.value === 'roam' ? 'block' : 'none';
            });
        });

        // Usage next: Collect checkboxes
        document.querySelectorAll('input[name="usage"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                userData.usage = Array.from(document.querySelectorAll('input[name="usage"]:checked')).map(c => c.value);
            });
        });
        document.getElementById('users').addEventListener('change', (e) => userData.users = e.target.value);

        // Equipment recommendation
        function generateEquipment() {
            let html = '';
            if (userData.useCase === 'residential') {
                userData.kit = 'Standard Gen 3 Kit ($349 or promo; 23.4x15x1.5in, 6.4lbs, Wi-Fi 6 up to 3200sq ft)';
                html = `<div class="card">Recommended: ${userData.kit}<span class="tooltip">i<span class="tooltip-text">Versatile for homeâ€”better speeds.</span></span><img src="https://via.placeholder.com/150?text=Standard+Kit"></div>`;
            } else {
                userData.kit = 'Starlink Mini Kit ($599, 12x10x1.5in, 2.5lbs, built-in router, portable)';
                html = `<div class="card">Recommended: ${userData.kit}<span class="tooltip">i<span class="tooltip-text">Great for travelâ€”connects anywhere.</span></span><img src="https://via.placeholder.com/150?text=Mini+Kit"></div>`;
            }
            document.getElementById('equipment-cards').innerHTML = html;
        }

        // Plan recommendation
        function generatePlans() {
            let html = '';
            let basePrice = userData.fee.includes('$100') ? 80 : 50; // Simulate based on location
            if (userData.useCase === 'residential') {
                const highUsage = userData.usage.includes('gaming') || userData.usage.includes('streaming') || userData.users === '6+';
                userData.plan = highUsage ? 'Residential MAX ($120/month, up to 400Mbps, unlimited)' : 'Residential Standard ($' + basePrice + '/month, 50-220Mbps, unlimited)';
                html = `<div class="card">Recommended Plan: ${userData.plan}<span class="tooltip">i<span class="tooltip-text">No data caps; pause with Standby Mode ($20/month).</span></span></div>`;
            } else {
                const highUsage = userData.usage.length > 2;
                userData.plan = highUsage ? 'Roam Unlimited ($165/month, unlimited, in-motion OK)' : 'Roam 100GB ($50/month, then low-speed)';
                html = `<div class="card">Recommended Plan: ${userData.plan}<span class="tooltip">i<span class="tooltip-text">Gaming on Roam: Playable (20-50ms), but spikes possibleâ€”fine for casual.</span></span></div>`;
            }
            document.getElementById('plan-cards').innerHTML = html;
        }

        // Summary
        function generateSummary() {
            let html = `<p>Your Fit: ${userData.useCase.toUpperCase()} with ${userData.kit} and ${userData.plan}.</p>
                        <p>Promo/Fee: ${userData.promo} | ${userData.fee}</p>
                        <p>Total Est: Kit + Shipping + Service (30-day trialâ€”risk-free!)</p>
                        <p>Hesitations? Speeds reliable, weather OK, support 24/7 via app.</p>`;
            document.getElementById('summary-content').innerHTML = html;
        }

        function placeOrder() {
            alert('Order simulated! In production: Redirect to cart with pre-filled options. Kit: ' + userData.kit + ', Plan: ' + userData.plan);
            console.log('Order clicked'); // Metric demo
        }

        // Init
        loadData();
        updateProgress();

        // Generate on step entry (for persistence)
        document.getElementById('step-equipment').addEventListener('DOMSubtreeModified', generateEquipment, { once: true });
        document.getElementById('step-plan').addEventListener('DOMSubtreeModified', generatePlans, { once: true });
        document.getElementById('step-summary').addEventListener('DOMSubtreeModified', generateSummary, { once: true });
    </script>
</body>
</html>